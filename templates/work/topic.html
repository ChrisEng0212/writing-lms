{% extends "layout.html" %}

{% block content %}

<div id="vue-app"> 

    <div class="list-section">
        <h1 style="display:inline"> Topic </h1>         
        <h1 id="unit" style="display:inline">{{unit}}</h1>
        <br>
        <h5 style="color:{{current_user.theme}}"> Deadline: [[ deadline ]] </h5>
        
        <div class="frame-section embed-responsive embed-responsive-4by3">
            <iframe id="questions_embed" :src="slides"
            allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true">
	          </iframe>
        </div> 
    
      <div align="center">
      <template v-for="(toggle, key) in buttons" align="center">
      
      <button v-if="toggle" type="button" class="btn btn-outline-light" style="width:24%;margin-left:1px" @click="goTo(key)"> [[ key ]]</button>
      <button v-else type="button" class="btn btn-outline-light" style="width:24%; color:tomato;margin-left:1px"> [[ key ]]</button>

      </template>
      </div> 
    <br>

    <legend class="border-bottom" style="color:white">Plans</legend>     

    <div v-for="plan in plans">
    
      <img class="rounded-circle chat-img" style="" :src="plan['meta']['image']"> 
      <span class="avatar" :style="color(plan['meta']['theme'])"> [[  plan['meta']['avatar']  ]] </span>
      <br>
          <template v-for="(item, key) in plan['plan']">    
            <span class="pspan" :style="color(plan['meta']['theme'])"> [[ key ]]: </span>
            <span class="pspan" style="color:white"> [[  item  ]] </span>  
            <br>  
          </template>     
      <br>
    </div>

    <legend class="border-bottom" style="color:white">Drafts</legend> 

    <div v-for="draft in drafts">
    
      <img class="rounded-circle chat-img" style="" :src="draft['meta']['image']"> 
      <span class="avatar" :style="color(draft['meta']['theme'])"> [[  draft['meta']['avatar']  ]] </span>
      <br>
          <template v-for="(item, key) in draft['draft']">    
            <span class="pspan" :style="color(draft['meta']['theme'])"> [[ key ]]: </span>
            <span class="pspan" style="color:white"> [[  item  ]] </span>  
            <br>  
          </template>     
      <br> 
    </div>
    
     

</div> <!-- end of Vue app -->


{% endblock %}

{% block script %}  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
<script type="text/javascript" src="{{url_for('static', filename= 'js/topic.js')}}"></script>  
{% endblock %} 