{% extends "layout.html" %}

{% block content %}

<div id="vue-app"> 


<div class="list-section">    
<legend class="border-bottom mb-4">Dashboard</legend> 

 <table class="table" style="color:white">

 [[ recOBJ]]
       

    <div>   

        <tbody>
            <template v-for="(student, key) in recOBJ"  :key="key" > 
               <tr>
               <td> [[ key ]] </td> 
               <td>  [[ student ]] </td> 
               <td>  </td> 
               <td>  </td> 
               <td>  </td>
               <td>  </td>
               <td>  </td>
               </tr> 

               <template v-for="(unit, ky) in student"  :key="key" > 
                  <tr>
                     <td> [[ ky ]] </td> 
                     <td> [[ unit ]] </td>
                     <td> date </td>
                     <td> [[ unit.count ]] </td>
                     <td v-if="unit.stage=2" @click="goToRevise(key, ky)"> <span class="unit-span" style="color:{{current_user.theme}}"> &emsp;&emsp;REVISE&emsp;&emsp; </span> </td> 
                     <td @click="goToPlan(key, ky)"> <span class="unit-span" style="color:{{current_user.theme}}"> &emsp;&emsp;PLAN&emsp;&emsp; </span> </td> 
                  
                  </tr>
               </template>     
                       
            </template>     
        </tbody>
 
    </div id="end vue for">   
    </table>  

   

</div> <!-- end of Vue app -->


<span id="recs"> {{recOBJ}} </span>

{% endblock %}

{% block script %}   

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
<script type="text/javascript" src="{{url_for('static', filename= 'js/dash.js')}}"></script>  


{% endblock %} 